/**
 * Dymi - The Dynamic CSS loader library for Inter.
 * Created by - Denis Power.
 * 2021.
 * Version - 1.0.0.
 * https://github.com/DenisPower1/dymi
 * Released under the MIT lincense.
 */

!function(){function e(e){return"[object Object]"==Object.prototype.toString.apply(e,void 0)}function t(e){return!(null==e)}function n(t,n){return!!e(t)&&n in t}function o(e){return 0==e.trim().length}const r={sy_Err(e){const t=new SyntaxError;throw t.message=e,t},err(e){const t=new Error;throw t.message=e,t},wrn(e){console.warn(e)}};function s(e,t){i.isOn||r[e](t)}const i={detected:!1,set isOn(e){this.detected=!0},get isOn(){return this.detected}};let a=!1;const l=globalThis,d=document.onreadystatechange;function c(){if("object"==typeof l&&null!=l){if(e(l.Inter)&&"function"==typeof Inter.for&&(console.log("Interjs was detected on this page!"),a=!0,e(l.app))){"production"==app.status&&(i.isOn=!0)}}}if("function"==typeof d){const e=d.bind();document.onreadystatechange=function(){a||c(),"complete"==this.readyState&&(e(),a||setTimeout(()=>{c()},100))}}else document.onreadystatechange=function(){a||(c(),"complete"==this.readyState&&setTimeout(()=>{c()},100))};const f=new Map,u=Object.create(null);function y(){}y.prototype.called=function(e,t){if(e in u){s("wrn",`You already defined a function to execute when the style\n           named ${e} is called.\n           `)}if(e in u)return!1;if("function"!=typeof t){s("sy_Err","The second argument in dymi.called() must be a function.")}if(arguments.length<2){s("sy_Err","dymi.called must have two arguments.")}else u[e]=t},y.prototype[Symbol.for("fire")]=function(e){if(e in u)u[e]();else{s("wrn",`The file named ${e} was called but it was not found executor for it.`)}};const m=new y;function h(){}const p=Object.create(null);let g;h.prototype={set register(n){if(0!=Object.getOwnPropertyNames(p).length)return!1;if(function(e){return"[object Array]"==Object.prototype.toString.apply(e,void 0)}(n)){let i=-1;for(let a of n)if(i++,e(a)){const{name:e,path:n}=a;if(!!(!t(e)||!t(n))){s("err",'"name" and "path" properties must be defined in the objects of dymi.register array.')}if(r=e,"[object String]"!=Object.prototype.toString.apply(r,void 0)||o(e)){s("err",`The name of a style must be a string value, with at least a\n                    carapter, and in path "${n}", you defined "${e}" as its name.\n                    `)}if(n.endsWith(".css"))e in p||(p[e]=n);else{s("sy_Err",`Every path property must have the .css extension, and the path "${n}"\n                    does not have.\n                    `)}}else{s("sy_Err",`In dymi.register array, it was found a non-object value at index ${i}.`)}}else{s("sy_Err","The value of dymi.register must be an array.")}var r},get register(){return Object.getOwnPropertyNames(p).length>0},callStyle(e){if(t(e)){if(!n(p,e)){s("err",`It was not found a style called "${e}".`)}else{const t=Symbol.for("fire");if(null==g){const n=document.createElement("link"),o=document.head;if(null!=o)n.rel="stylesheet",n.href=p[e],n.styleName=e,o.appendChild(n),g=n,setTimeout(()=>{m[t](e)},100);else{s("err","There's not the head tag on this page, define a head tag.")}}else g.href=p[e],g.styleName=e,setTimeout(()=>{m[t](e)},100)}}else{s("sy_Err","You must define the name of the style to call, in dymi.callStyle() function.")}},addStyle(e){if(t(e)){if(!n(p,e)){s("err",`It was not found a style called "${e}".`)}else{const t=Symbol.for("fire"),n=document.createElement("link"),o=document.head;null!=o&&(n.rel="stylesheet",n.href=p[e],o.appendChild(n),f.set(e,n),setTimeout(()=>{m[t](e)},100))}}else{s("sy_Err","You must define the name of the style to call, in dymi.addStyle() function.")}},removeStyle(e){if(t(e)){if(!n(p,e)){s("err",`It was not found a style called "${e}".`)}if(f.has(e)){const t=Symbol.for("fire"),n=f.get(e);document.head.removeChild(n),f.delete(e),setTimeout(()=>{m[t](e)},100)}else{s("wrn",`You did not add a style name "${e}", so you can not remove a non-added style.`)}}else{s("sy_Err","You must define the name of the style to call, in dymi.addStyle() function.")}},get hasStyleAdded(){return f.size>0},isOn(e){if(t(e)){if(!!n(p,e))return null!=g&&1==g.nodeType&&g.styleName==e||f.has(e);s("err",`It was not found a style called "${e}".`)}else{s("sy_Err","You must define the name of the style to call, in dymi.addStyle() function.")}}};const b=new h;Object.assign(b,y.prototype);const w=new Proxy(b,{setPrototypeOf:(...e)=>!1,getPrototypeOf:(...e)=>null,deleteProperty(...e){s("sy_Err","You can not delete any property of dymi.")},set(...e){if(!n(w,e[1]))return!1;Reflect.set(...e)},defineProperty:(...e)=>!1});"undefined"!=typeof module&&"object"==typeof module.exports&&(exports.dymi=w),globalThis.dymi=w}();
